<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tiny Starter</title>
  <style>
    body { font-family: system-ui, sans-serif; max-width: 700px; margin: 24px auto; padding: 0 16px; }
    header, main { margin-bottom: 16px; }
    #display { padding: 12px; border: 1px solid #ddd; border-radius: 8px; min-height: 80px; }
    form { display: flex; gap: 8px; margin-top: 12px; }
    input[type="text"] { flex: 1; padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
    button { padding: 10px 14px; border: 1px solid #ccc; border-radius: 6px; background: #f5f5f5; cursor: pointer; }
    a.button { display: inline-block; padding: 10px 14px; border: 1px solid #ccc; border-radius: 6px; background: #f0f7ff; text-decoration: none; }
  </style>
</head>
<body>
  <header>
    <h1>🪄💡🧙 TaskWizard AI </h1>
    <h3>Your AI assistant for any task!</h3>
    <p><a class="button" href="https://example.com" target="_blank" rel="noopener noreferrer">Go to Another Page ↗</a></p>
  </header>

  <main>
    <div id="display">💬</div>

    <form id="form" autocomplete="off">
      <input id="q" type="text" placeholder="Ask about a topic (e.g., Moon, Python, etc.)" />
      <button type="submit">Send</button>
    </form>
  </main>

  <script>
    const form = document.getElementById('form');
    const input = document.getElementById('q');
    const display = document.getElementById('display');

    async function getWikiSummary(title) {
      const url = 'https://en.wikipedia.org/api/rest_v1/page/summary/' + encodeURIComponent(title);
      const res = await fetch(url, { headers: { Accept: 'application/json' } });
      if (!res.ok) throw new Error('Not found');
      return res.json();
    }

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const text = input.value.trim();
      if (!text) {
        display.textContent = 'Please type something 🙂';
        return;
      }

      display.textContent = 'Thinking... ⏳';
      try {
        const data = await getWikiSummary(text);
        const title = data.title || text;
        const summary = data.extract || 'No summary.';
        const link = data.content_urls?.desktop?.page || 'https://en.wikipedia.org/wiki/' + encodeURIComponent(title);

        display.innerHTML = `
          <strong>${title}</strong><br>
          ${summary}<br>
          <a href="${link}" target="_blank" rel="noopener noreferrer">Read more</a>
        `;
      } catch (err) {
        display.textContent = 'Sorry, no result for "' + text + '". 😕';
      }
    });
  </script>
</body>
</html>
